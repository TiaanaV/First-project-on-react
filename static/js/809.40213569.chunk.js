"use strict";(self.webpackChunkfirst_project_on_reack=self.webpackChunkfirst_project_on_reack||[]).push([[809],{7809:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var o=s(1413),r=s(5671),n=s(3144),i=s(136),a=s(2882),l=s(2791),c=s(8687),u=s(7781),d=s(6508),f=s(2982),p={postsBlock:"MyPosts_postsBlock__lB-pf",headline:"MyPosts_headline__hAm9y",newPostArea:"MyPosts_newPostArea__rxNoN",buttonsArea:"MyPosts_buttonsArea__FNbky",button:"MyPosts_button__TKXtI"},h="Post_item__Yu4oG",x="Post_likes__K9KVP",j="Post_avatarMini__Mvzzx",m=s(184),v=function(e){return(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("img",{className:j,src:"https://images.unsplash.com/photo-1559190394-df5a28aab5c5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"}),e.message,(0,m.jsxs)("div",{className:x,children:[(0,m.jsx)("span",{children:"likes"})," ",e.likeCount]})]})},b=s(704),P=s(6139),_=s(77),k=s(1074),g=(0,_.D)(10),y=function(e){return(0,m.jsx)("form",{onSubmit:e.handleSubmit,children:(0,m.jsxs)("div",{children:[(0,m.jsx)(P.Z,{component:k.gx,typefield:"textarea",name:"newPostText",className:p.newPostArea,placeholder:"Post message...",validate:[_.C,g]}),(0,m.jsxs)("div",{className:p.buttonsArea,children:[(0,m.jsx)("button",{className:p.button,children:"Add posts"}),(0,m.jsx)("button",{className:p.button,children:"Remove"})]})]})})},N=(0,b.Z)({form:"my post"})(y),Z=l.memo((function(e){var t=(0,f.Z)(e.posts).reverse().map((function(e){return(0,m.jsx)(v,{message:e.message,likeCount:e.likeCount},e.id)}));return(0,m.jsxs)("div",{className:p.postsBlock,children:[(0,m.jsx)("h3",{className:p.headline,children:"My posts"}),(0,m.jsx)(N,{onSubmit:function(t){e.addPost(t.newPostText)}}),(0,m.jsx)("div",{className:p.posts,children:t})]})})),I=(0,u.qC)((0,c.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e((0,d.Wl)(t))}}})))(Z),S=s(885),A=s(1539),w={descriptionBlock:"ProfileInfo_descriptionBlock__XBXuJ",avatar:"ProfileInfo_avatar__1VFcV",contacts:"ProfileInfo_contacts__hKq1Z",editButton:"ProfileInfo_editButton__OVbE2",selectPhotoBlock:"ProfileInfo_selectPhotoBlock__eN5Mi"},M=s(2026),B=function(e){var t=(0,l.useState)(!1),s=(0,S.Z)(t,2),o=s[0],r=s[1],n=(0,l.useState)(e.status),i=(0,S.Z)(n,2),a=i[0],c=i[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,m.jsxs)(m.Fragment,{children:[!o&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Status:"}),(0,m.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"------"})]}),o&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(a)},value:a})})]})},C=function(e){var t=e.contactTitle,s=e.contactValue;return(0,m.jsxs)("div",{className:w.contacts,children:[t,":",s]})},O=function(e){return(0,m.jsxs)("div",{className:w.profileInfo,children:[e.isOwner&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:e.goToEditMode,className:w.editButton,children:"Edit"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Name:"})," ",e.profile.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),e.profile.aboutMe]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "}),e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills:"}),e.profile.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(t){return(0,m.jsx)(C,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},D=s(7851),F=(0,b.Z)({form:"profile-edit",enableReinitialize:!0,destroyOnUnmount:!1,keepDirtyOnReinitialize:!0})((function(e){return(0,m.jsx)("form",{onSubmit:e.handleSubmit,children:(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{children:"Save"}),e.error&&(0,m.jsx)("div",{className:D.Z.formSummaryError,children:e.error}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Name:"})," ",(0,k.Gr)("Full name","fullName",[],k.II)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),(0,k.Gr)("Something about you ...","aboutMe",[],k.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "})," ",(0,k.Gr)(" ","lookingForAJob",[],k.II,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills:"}),(0,k.Gr)("My professional skills","lookingForAJobDescription",[],k.gx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts:"}),Object.keys(e.profile.contacts).map((function(e){return(0,m.jsxs)("div",{className:w.contacts,children:[(0,m.jsxs)("b",{children:[e,":"]}),(0,k.Gr)(e,"contacts."+e,[],k.II)]},e)}))]})]})})})),T=function(e){var t=(0,l.useState)(!1),s=(0,S.Z)(t,2),o=s[0],r=s[1];if(!e.profile)return(0,m.jsx)(A.Z,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:w.descriptionBlock,children:[(0,m.jsx)("img",{className:w.avatar,src:e.profile.photos.large||M}),e.isOwner&&(0,m.jsx)("form",{className:w.selectPhotoBlock,children:(0,m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})}),o?(0,m.jsx)(F,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))}}):(0,m.jsx)(O,{goToEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner}),(0,m.jsx)(B,{status:e.status,updateStatus:e.updateStatus})]})})},G=function(e){return(0,m.jsxs)("div",{children:[(0,m.jsx)(T,{savePhoto:e.savePhoto,saveProfile:e.saveProfile,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,m.jsx)(I,{})]})},V=s(8223),J=s(6871),E=s(1548),z=function(e){(0,i.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=25786),this.props.getProfileInfo(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsxs)(m.Fragment,{children:[this.props.error?(0,m.jsx)(V.Z,{error:this.props.error}):null,(0,m.jsx)(G,(0,o.Z)((0,o.Z)({},this.props),{},{error:this.props.error,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))]})}}]),s}(l.Component);var q=(0,u.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,error:e.profilePage.error}}),{getProfileInfo:d.j3,getStatus:d.lR,updateStatus:d.Nf,savePhoto:d.Ju,saveProfile:d.Ii}),(function(e){return function(t){var s=(0,J.TH)(),r=(0,J.s0)(),n=(0,J.UO)();return(0,m.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{match:{location:s,navigate:r,params:n}}))}}),E.D)(z)},1548:function(e,t,s){s.d(t,{D:function(){return p}});var o=s(1413),r=s(5671),n=s(3144),i=s(136),a=s(2882),l=s(2791),c=s(6871),u=s(8687),d=s(184),f=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){(0,i.Z)(l,t);var s=(0,a.Z)(l);function l(){return(0,r.Z)(this,l),s.apply(this,arguments)}return(0,n.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,o.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(f)(t)}}}]);
//# sourceMappingURL=809.40213569.chunk.js.map